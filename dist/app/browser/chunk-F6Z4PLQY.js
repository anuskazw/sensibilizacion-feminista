import{a as j,b as $,c as R}from"./chunk-JDLMXMMD.js";import"./chunk-BJQXS3A6.js";import{a as A}from"./chunk-RTXFEWGP.js";import"./chunk-PQWG4HAI.js";import{b as Y}from"./chunk-4522AEMD.js";import{a as G,b as J}from"./chunk-EY4WXO3I.js";import{a as K}from"./chunk-UO4QT7G4.js";import{$a as x,Fb as E,Hb as c,Ib as u,Jb as k,Ka as z,Lb as S,Q as _,Va as H,W as y,Wa as p,X as T,Xa as m,Y as O,Z as D,Za as P,Zb as L,_a as C,a as F,ab as f,b as I,bb as o,cb as a,db as b,dc as B,ec as q,fc as N,ha as v,hb as V,jb as w,lb as d,sb as l,tb as s,ub as M,za as n}from"./chunk-UMI3KQKL.js";var W=e=>({term:e}),X=e=>({count:e}),U=(e,i)=>i.id;function Z(e,i){if(e&1){let t=V();o(0,"button",11),c(1,"translate"),w("click",function(){let g=y(t).$implicit,h=d(2);return T(h.scrollToTerm(g))}),l(2),a()}if(e&2){let t=i.$implicit;H("aria-label",k(1,2,"violence.scrollToTerm",E(5,W,t))),n(2),M(" ",t," ")}}function ee(e,i){if(e&1&&(o(0,"div",5)(1,"h2",8),l(2),c(3,"translate"),a(),o(4,"div",9),C(5,Z,3,7,"button",10,P),a()()),e&2){let t=d();n(2),s(u(3,1,"violence.termsIndex")),n(3),x(t.termsIndex())}}function te(e,i){e&1&&b(0,"app-skeleton-screen",6),e&2&&f("count",4)("showTitle",!0)("showDescription",!0)("showHashtags",!0)("showButton",!1)}function ie(e,i){if(e&1){let t=V();o(0,"app-error-state",12),w("retry",function(){y(t);let g=d();return T(g.retryLoad())}),a()}if(e&2){let t=d();f("message",t.errorMessage())("showRetry",!0)("suggestions",t.getErrorSuggestions())}}function ne(e,i){if(e&1&&(o(0,"p",14),l(1),c(2,"translate"),a()),e&2){let t=d(2);n(),M(" ",k(2,1,"search.resultsCount",E(4,X,t.filteredContents().length))," ")}}function ae(e,i){if(e&1&&(o(0,"div",22)(1,"h3",30),l(2),c(3,"translate"),a(),o(4,"p",31),l(5),a()()),e&2){let t=d().$implicit,r=d(3);n(2),s(u(3,2,"violence.alertSigns")),n(3),s(r.getAlertSigns(t))}}function oe(e,i){if(e&1&&(o(0,"span",25),l(1),a()),e&2){let t=i.$implicit;n(),M("#",t.nombre)}}function re(e,i){e&1&&(o(0,"span",35),l(1),c(2,"translate"),a()),e&2&&(n(),s(u(2,1,"violence.phone016")))}function le(e,i){e&1&&(o(0,"span",35),l(1),c(2,"translate"),a()),e&2&&(n(),s(u(2,1,"violence.phone112")))}function se(e,i){e&1&&(o(0,"span",35),l(1),c(2,"translate"),a()),e&2&&(n(),s(u(2,1,"violence.phone017")))}function ce(e,i){if(e&1&&(o(0,"div",34)(1,"strong"),l(2),a(),p(3,re,3,3,"span",35),p(4,le,3,3,"span",35),p(5,se,3,3,"span",35),a()),e&2){let t=i.$implicit;n(2),s(t),n(),m(t==="016"?3:-1),n(),m(t==="112"?4:-1),n(),m(t==="017"?5:-1)}}function de(e,i){if(e&1&&(o(0,"div",28)(1,"h3",32),l(2),c(3,"translate"),a(),o(4,"div",33),C(5,ce,6,4,"div",34,P),a()()),e&2){let t=d().$implicit;n(2),s(u(3,1,"violence.helpResources")),n(3),x(t.recursos_ayuda)}}function pe(e,i){e&1&&(o(0,"div",29)(1,"button",36),O(),o(2,"svg",37),b(3,"polygon",38),a(),l(4),c(5,"translate"),a()()),e&2&&(n(4),M(" ",u(5,1,"video.selectSignLanguage")," "))}function me(e,i){if(e&1&&(o(0,"article",17)(1,"div",18)(2,"h2",19),l(3),a()(),o(4,"div",20)(5,"p",21),l(6),a(),p(7,ae,6,4,"div",22),a(),o(8,"div",23)(9,"div",24),C(10,oe,2,1,"span",25,U),a()(),o(12,"div",26),b(13,"app-social-share",27),a(),p(14,de,7,3,"div",28),p(15,pe,6,3,"div",29),a()),e&2){let t=i.$implicit,r=d(3);f("id","content-"+t.id),n(3),s(r.getTitle(t)),n(3),s(r.getDescription(t)),n(),m(r.getAlertSigns(t)?7:-1),n(3),x(t.hashtags),n(3),f("content",t),n(),m(t.recursos_ayuda&&t.recursos_ayuda.length>0?14:-1),n(),m(t.video_lse_url?15:-1)}}function ue(e,i){if(e&1&&C(0,me,16,7,"article",17,U),e&2){let t=d(2);x(t.filteredContents())}}function ge(e,i){e&1&&(o(0,"div",16),O(),o(1,"svg",39),b(2,"circle",40)(3,"path",41),a(),D(),o(4,"h2"),l(5),c(6,"translate"),a(),o(7,"p"),l(8),c(9,"translate"),a()()),e&2&&(n(5),s(u(6,2,"search.noResults")),n(3),s(u(9,4,"violence.noResultsMessage")))}function he(e,i){if(e&1&&(o(0,"div",13),p(1,ne,3,6,"p",14),a(),o(2,"div",15),p(3,ue,2,0)(4,ge,10,6,"div",16),a()),e&2){let t=d();n(),m(t.filteredContents().length>0?1:-1),n(2),m(t.filteredContents().length>0?3:4)}}var Q=class e{searchFilterService=_(R);languageService=_(Y);translateService=_(B);offlineService=_(K);analyticsService=_(A);isLoading=v(!1);hasError=v(!1);errorMessage=v("");sampleHashtags=[{id:"1",nombre:"Violencia de g\xE9nero",slug:"violencia-genero",descripcion:"Violencia ejercida contra las mujeres"},{id:"2",nombre:"Violencia f\xEDsica",slug:"violencia-fisica",descripcion:"Violencia f\xEDsica"},{id:"3",nombre:"Violencia psicol\xF3gica",slug:"violencia-psicologica",descripcion:"Violencia psicol\xF3gica y emocional"},{id:"4",nombre:"Violencia sexual",slug:"violencia-sexual",descripcion:"Violencia sexual"},{id:"5",nombre:"Violencia econ\xF3mica",slug:"violencia-economica",descripcion:"Violencia econ\xF3mica"},{id:"6",nombre:"Violencia digital",slug:"violencia-digital",descripcion:"Violencia en el entorno digital"},{id:"7",nombre:"Se\xF1ales de alerta",slug:"senales-alerta",descripcion:"Se\xF1ales de alerta de violencia"},{id:"8",nombre:"Recursos de ayuda",slug:"recursos-ayuda",descripcion:"Recursos y ayuda disponible"}];sampleContents=[{id:"1",slug:"violencia-fisica",tipo:"violencia",titulo:this.createMultilingualText("Violencia f\xEDsica"),descripcion:this.createMultilingualText("Cualquier acto que cause da\xF1o f\xEDsico a una mujer."),descripcion_lectura_facil:this.createMultilingualText("La violencia f\xEDsica es cuando alguien te hace da\xF1o en el cuerpo. Puede ser golpes, empujones o cualquier cosa que te haga da\xF1o f\xEDsico."),senales_alerta:this.createMultilingualText("Se\xF1ales de alerta: golpes, empujones, heridas, moretones, fracturas."),hashtags:[this.sampleHashtags[0],this.sampleHashtags[1],this.sampleHashtags[6]],recursos_ayuda:["016","112"],activo:!0,fecha_publicacion:new Date("2024-01-15"),estado:"publicado",fecha_creacion:new Date("2024-01-10"),fecha_modificacion:new Date("2024-01-15"),referencias:[{titulo:"Ley Org\xE1nica 1/2004",url:"https://www.boe.es",anio:2004}]},{id:"2",slug:"violencia-psicologica",tipo:"violencia",titulo:this.createMultilingualText("Violencia psicol\xF3gica"),descripcion:this.createMultilingualText("Cualquier acto que cause da\xF1o emocional o psicol\xF3gico."),descripcion_lectura_facil:this.createMultilingualText("La violencia psicol\xF3gica es cuando alguien te hace sentir mal con palabras o acciones. Te insulta, te amenaza o te hace sentir que no vales nada."),senales_alerta:this.createMultilingualText("Se\xF1ales de alerta: insultos, amenazas, humillaciones, aislamiento, control excesivo."),hashtags:[this.sampleHashtags[0],this.sampleHashtags[2],this.sampleHashtags[6]],recursos_ayuda:["016","112"],activo:!0,fecha_publicacion:new Date("2024-01-20"),estado:"publicado",fecha_creacion:new Date("2024-01-15"),fecha_modificacion:new Date("2024-01-20")},{id:"3",slug:"violencia-sexual",tipo:"violencia",titulo:this.createMultilingualText("Violencia sexual"),descripcion:this.createMultilingualText("Cualquier acto de naturaleza sexual realizado sin consentimiento."),descripcion_lectura_facil:this.createMultilingualText("La violencia sexual es cuando alguien te obliga a hacer algo sexual que no quieres. Siempre necesitas dar tu permiso para cualquier acto sexual."),senales_alerta:this.createMultilingualText("Se\xF1ales de alerta: agresiones sexuales, acoso sexual, coacci\xF3n sexual."),hashtags:[this.sampleHashtags[0],this.sampleHashtags[3],this.sampleHashtags[6]],recursos_ayuda:["016","112"],activo:!0,fecha_publicacion:new Date("2024-02-01"),estado:"publicado",fecha_creacion:new Date("2024-01-25"),fecha_modificacion:new Date("2024-02-01")},{id:"4",slug:"violencia-economica",tipo:"violencia",titulo:this.createMultilingualText("Violencia econ\xF3mica"),descripcion:this.createMultilingualText("Control o limitaci\xF3n del acceso a recursos econ\xF3micos."),descripcion_lectura_facil:this.createMultilingualText("La violencia econ\xF3mica es cuando alguien controla tu dinero. No te deja trabajar, te quita tu dinero o no te da lo necesario para vivir."),senales_alerta:this.createMultilingualText("Se\xF1ales de alerta: control del dinero, prohibici\xF3n de trabajar, limitaci\xF3n de recursos b\xE1sicos."),hashtags:[this.sampleHashtags[0],this.sampleHashtags[4],this.sampleHashtags[6]],recursos_ayuda:["016"],activo:!0,fecha_publicacion:new Date("2024-02-10"),estado:"publicado",fecha_creacion:new Date("2024-02-05"),fecha_modificacion:new Date("2024-02-10")},{id:"5",slug:"violencia-digital",tipo:"violencia",titulo:this.createMultilingualText("Violencia digital"),descripcion:this.createMultilingualText("Violencia ejercida a trav\xE9s de medios digitales y redes sociales."),descripcion_lectura_facil:this.createMultilingualText("La violencia digital es cuando alguien te hace da\xF1o usando internet o el m\xF3vil. Puede ser acoso, amenazas o compartir fotos sin tu permiso."),senales_alerta:this.createMultilingualText("Se\xF1ales de alerta: acoso online, amenazas por redes sociales, control de dispositivos, difusi\xF3n de im\xE1genes sin consentimiento."),hashtags:[this.sampleHashtags[0],this.sampleHashtags[5],this.sampleHashtags[6]],recursos_ayuda:["016","017"],activo:!0,fecha_publicacion:new Date("2024-03-01"),estado:"publicado",fecha_creacion:new Date("2024-02-25"),fecha_modificacion:new Date("2024-03-01")},{id:"6",slug:"violencia-institucional",tipo:"violencia",titulo:this.createMultilingualText("Violencia institucional"),descripcion:this.createMultilingualText("Acciones u omisiones de instituciones p\xFAblicas que vulneran derechos."),descripcion_lectura_facil:this.createMultilingualText("La violencia institucional es cuando las instituciones p\xFAblicas no te ayudan o te tratan mal. Por ejemplo, cuando la polic\xEDa o los servicios sociales no te creen o no te ayudan."),senales_alerta:this.createMultilingualText("Se\xF1ales de alerta: falta de respuesta institucional, revictimizaci\xF3n, falta de recursos."),hashtags:[this.sampleHashtags[0],this.sampleHashtags[7],this.sampleHashtags[6]],recursos_ayuda:["016"],activo:!0,fecha_publicacion:new Date("2024-03-15"),estado:"publicado",fecha_creacion:new Date("2024-03-10"),fecha_modificacion:new Date("2024-03-15")}];currentFilters=v({});filteredContents=S(()=>{let i=I(F({},this.currentFilters()),{currentLanguage:this.languageService.getCurrentLanguage()});return this.searchFilterService.search(i).items});hashtags=S(()=>this.searchFilterService.getAllHashtags());termsIndex=S(()=>{let i=this.filteredContents(),t=this.languageService.getCurrentLanguage(),r=[];return i.forEach(g=>{let h=this.getTitle(g);r.push(h)}),r.sort((g,h)=>g.localeCompare(h))});ngOnInit(){this.hasError.set(!1),setTimeout(()=>{try{if(this.offlineService.isOffline())throw new Error("offline");this.searchFilterService.setContents(this.sampleContents),this.analyticsService.trackContentView("violencia-page","violencia",[]),this.isLoading.set(!1)}catch(i){this.hasError.set(!0),this.isLoading.set(!1),i.message==="offline"?this.errorMessage.set("error.offline"):this.errorMessage.set("error.generic")}},0)}retryLoad(){this.ngOnInit()}getErrorSuggestions(){return this.offlineService.isOffline()?[this.translateService.instant("error.suggestionsOffline.0"),this.translateService.instant("error.suggestionsOffline.1"),this.translateService.instant("error.suggestionsOffline.2")]:[this.translateService.instant("error.suggestionsNetwork.0"),this.translateService.instant("error.suggestionsNetwork.1"),this.translateService.instant("error.suggestionsNetwork.2")]}onFiltersChange(i){this.currentFilters.set(i)}getTitle(i){let t=this.languageService.getCurrentLanguage();return i.titulo[t]||i.titulo.es}getDescription(i){let t=this.languageService.getCurrentLanguage();return i.descripcion_lectura_facil[t]||i.descripcion_lectura_facil.es}getAlertSigns(i){let t=this.languageService.getCurrentLanguage();return i.senales_alerta&&(i.senales_alerta[t]||i.senales_alerta.es)||""}scrollToTerm(i){let t=this.filteredContents().find(r=>this.getTitle(r)===i);if(t){let r=document.getElementById(`content-${t.id}`);r&&r.scrollIntoView({behavior:"smooth",block:"start"})}}createMultilingualText(i){return{es:i,en:i,ca:i,val:i,gl:i,eu:i}}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=z({type:e,selectors:[["app-violencia"]],decls:13,vars:9,consts:[[1,"violencia-page"],[3,"filtersChange","sectionTitle","hashtags","showYearFilter","showAlphabeticalIndex"],["role","main",1,"main-content"],[1,"content-header"],[1,"content-description"],[1,"terms-index"],["type","list",3,"count","showTitle","showDescription","showHashtags","showButton"],[3,"message","showRetry","suggestions"],[1,"index-title"],[1,"terms-list"],["type","button",1,"term-link"],["type","button",1,"term-link",3,"click"],[3,"retry","message","showRetry","suggestions"],[1,"results-info"],[1,"results-count"],[1,"contents-list"],[1,"no-results"],[1,"content-card",3,"id"],[1,"card-header"],[1,"card-title"],[1,"card-body"],[1,"card-description"],[1,"alert-signs"],[1,"card-footer"],[1,"card-hashtags"],[1,"hashtag-badge"],[1,"card-share"],[3,"content"],[1,"card-help-resources"],[1,"card-actions"],[1,"alert-signs-title"],[1,"alert-signs-content"],[1,"help-resources-title"],[1,"help-resources-list"],[1,"help-resource-item"],[1,"resource-description"],["type","button",1,"video-button"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","aria-hidden","true"],["points","5 3 19 12 5 21 5 3"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","aria-hidden","true",1,"no-results-icon"],["cx","11","cy","11","r","8"],["d","m21 21-4.35-4.35"]],template:function(t,r){t&1&&(o(0,"div",0)(1,"app-content-sidebar",1),w("filtersChange",function(h){return r.onFiltersChange(h)}),a(),o(2,"main",2)(3,"div",3)(4,"h1"),l(5),c(6,"translate"),a(),o(7,"p",4),l(8," Informaci\xF3n sobre tipos de violencia, se\xF1ales de alerta y recursos de ayuda. "),a()(),p(9,ee,7,3,"div",5),p(10,te,1,5,"app-skeleton-screen",6)(11,ie,1,3,"app-error-state",7)(12,he,5,2),a()()),t&2&&(n(),f("sectionTitle","header.violence")("hashtags",r.hashtags())("showYearFilter",!1)("showAlphabeticalIndex",!1),n(4),s(u(6,7,"header.violence")),n(4),m(r.termsIndex().length>0?9:-1),n(),m(r.isLoading()?10:r.hasError()?11:12))},dependencies:[L,N,j,$,G,J,q],styles:[".violencia-page[_ngcontent-%COMP%]{display:flex;min-height:100vh;background-color:var(--background-color, #f8f9fa)}.main-content[_ngcontent-%COMP%]{flex:1;padding:2rem;max-width:1200px;margin:0 auto}.content-header[_ngcontent-%COMP%]{margin-bottom:2rem}.content-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;color:var(--primary-color, #6b2d5c);margin-bottom:.5rem}.content-description[_ngcontent-%COMP%]{font-size:1.125rem;color:var(--text-secondary, #6c757d);line-height:1.6}.terms-index[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a;padding:1.5rem;margin-bottom:2rem}.index-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:var(--primary-color, #6b2d5c);margin-bottom:1rem}.terms-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.75rem}.term-link[_ngcontent-%COMP%]{padding:.5rem 1rem;background-color:var(--accent-color, #e9ecef);color:var(--primary-color, #6b2d5c);border:2px solid transparent;border-radius:8px;font-size:.95rem;font-weight:500;cursor:pointer;transition:all .2s ease;text-decoration:none}.term-link[_ngcontent-%COMP%]:hover{background-color:var(--primary-color, #6b2d5c);color:#fff;transform:translateY(-2px)}.term-link[_ngcontent-%COMP%]:focus{outline:2px solid var(--primary-color, #6b2d5c);outline-offset:2px}.results-info[_ngcontent-%COMP%]{margin-bottom:1.5rem}.results-count[_ngcontent-%COMP%]{color:var(--text-secondary, #6c757d);font-size:.95rem}.contents-list[_ngcontent-%COMP%]{margin-top:2rem}.content-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a;padding:2rem;margin-bottom:2rem;transition:transform .2s ease,box-shadow .2s ease;scroll-margin-top:2rem}.content-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 4px 16px #00000026}.card-header[_ngcontent-%COMP%]{margin-bottom:1rem}.card-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:600;color:var(--primary-color, #6b2d5c);margin:0;line-height:1.3}.card-body[_ngcontent-%COMP%]{margin-bottom:1.5rem}.card-description[_ngcontent-%COMP%]{color:var(--text-primary, #212529);font-size:1.125rem;line-height:1.7;margin-bottom:1.5rem}.alert-signs[_ngcontent-%COMP%]{background-color:#fff3cd;border-left:4px solid #ffc107;padding:1rem 1.5rem;border-radius:8px;margin-top:1.5rem}.alert-signs-title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#856404;margin:0 0 .5rem}.alert-signs-content[_ngcontent-%COMP%]{color:#856404;font-size:1rem;line-height:1.6;margin:0}.card-footer[_ngcontent-%COMP%]{margin-top:auto;padding-top:1rem;border-top:1px solid var(--border-color, #dee2e6)}.card-share[_ngcontent-%COMP%]{padding:.75rem 0;margin-top:.75rem;border-top:1px solid var(--border-color, #dee2e6)}.card-hashtags[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem}.hashtag-badge[_ngcontent-%COMP%]{background-color:var(--accent-color, #e9ecef);color:var(--primary-color, #6b2d5c);padding:.25rem .75rem;border-radius:16px;font-size:.875rem;font-weight:500}.card-help-resources[_ngcontent-%COMP%]{margin-top:1.5rem;padding-top:1.5rem;border-top:2px solid #dc3545;background-color:#f8d7da;padding:1.5rem;border-radius:8px}.help-resources-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:#721c24;margin:0 0 1rem}.help-resources-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.help-resource-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.help-resource-item[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1.5rem;color:#721c24;font-weight:700}.resource-description[_ngcontent-%COMP%]{color:#721c24;font-size:1rem;line-height:1.5}.card-actions[_ngcontent-%COMP%]{margin-top:1.5rem;padding-top:1.5rem;border-top:1px solid var(--border-color, #dee2e6)}.video-button[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.75rem 1.5rem;background-color:var(--primary-color, #6b2d5c);color:#fff;border:none;border-radius:8px;font-size:1rem;font-weight:500;cursor:pointer;transition:background-color .2s ease}.video-button[_ngcontent-%COMP%]:hover{background-color:var(--primary-hover, #532348)}.video-button[_ngcontent-%COMP%]:focus{outline:2px solid var(--primary-color, #6b2d5c);outline-offset:2px}.video-button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1.25rem;height:1.25rem}.no-results[_ngcontent-%COMP%]{text-align:center;padding:4rem 2rem;color:var(--text-secondary, #6c757d)}.no-results-icon[_ngcontent-%COMP%]{width:4rem;height:4rem;margin-bottom:1rem;opacity:.5}.no-results[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:.5rem;color:var(--text-primary, #212529)}.no-results[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}@media(max-width:1024px){.violencia-page[_ngcontent-%COMP%]{flex-direction:column}.main-content[_ngcontent-%COMP%]{padding:1.5rem}}@media(max-width:768px){.content-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.card-title[_ngcontent-%COMP%]{font-size:1.5rem}.terms-list[_ngcontent-%COMP%]{flex-direction:column}.term-link[_ngcontent-%COMP%]{width:100%;text-align:left}}"]})};export{Q as ViolenciaComponent};
