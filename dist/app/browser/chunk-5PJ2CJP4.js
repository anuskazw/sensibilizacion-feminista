import{a as H}from"./chunk-KNXKMLOQ.js";import{a as z}from"./chunk-BJQXS3A6.js";import{a as N}from"./chunk-RTXFEWGP.js";import"./chunk-PQWG4HAI.js";import{b as V}from"./chunk-4522AEMD.js";import{a as j,b as q}from"./chunk-EY4WXO3I.js";import{a as $}from"./chunk-UO4QT7G4.js";import{$a as O,Fb as L,Hb as c,Ib as m,Jb as D,Ka as T,Lb as k,Q as h,W as v,Wa as p,X as M,Xa as g,Y as y,Z as S,Zb as I,_a as w,ab as x,bb as o,cb as r,db as C,dc as B,ec as F,fc as R,ha as b,hb as P,jb as E,lb as s,sb as a,tb as d,ub as u,za as n}from"./chunk-UMI3KQKL.js";function f(e){return{es:e,en:e,ca:e,val:e,gl:e,eu:e}}var A=[{id:"1",slug:"el-segundo-sexo",tipo:"recurso",subtipo:"libro",titulo:f("El segundo sexo"),descripcion:f("Obra fundamental del feminismo del siglo XX que analiza la condici\xF3n de la mujer desde m\xFAltiples perspectivas."),descripcion_lectura_facil:f("Este libro explica c\xF3mo se ha visto a las mujeres a lo largo de la historia y por qu\xE9 es importante luchar por la igualdad."),autor:"Simone de Beauvoir",anio:1949,num_ediciones:15,isbn:"978-84-376-0494-7",hashtags:[{id:"1",nombre:"Feminismo",slug:"feminismo",descripcion:"Feminismo"},{id:"2",nombre:"Teor\xEDa",slug:"teoria",descripcion:"Teor\xEDa feminista"}],activo:!0,fecha_publicacion:new Date("2024-01-01"),fecha_modificacion:new Date("2024-01-01"),fecha_creacion:new Date("2024-01-01"),estado:"publicado",orden:1},{id:"2",slug:"feminismo-para-principiantes",tipo:"recurso",subtipo:"libro",titulo:f("Feminismo para principiantes"),descripcion:f("Una introducci\xF3n accesible al feminismo que explica conceptos clave y la historia del movimiento."),descripcion_lectura_facil:f("Este libro explica qu\xE9 es el feminismo de forma f\xE1cil y sencilla."),autor:"Nuria Varela",anio:2005,num_ediciones:8,isbn:"978-84-376-2345-0",hashtags:[{id:"1",nombre:"Feminismo",slug:"feminismo",descripcion:"Feminismo"},{id:"3",nombre:"Educaci\xF3n",slug:"educacion",descripcion:"Educaci\xF3n"}],activo:!0,fecha_publicacion:new Date("2024-01-15"),fecha_modificacion:new Date("2024-01-15"),fecha_creacion:new Date("2024-01-15"),estado:"publicado",orden:2},{id:"3",slug:"mujeres-que-corren-con-lobos",tipo:"recurso",subtipo:"libro",titulo:f("Mujeres que corren con los lobos"),descripcion:f("Un an\xE1lisis profundo del arquetipo de la mujer salvaje y su importancia en la psicolog\xEDa femenina."),descripcion_lectura_facil:f("Este libro habla sobre la fuerza y la sabidur\xEDa de las mujeres."),autor:"Clarissa Pinkola Est\xE9s",anio:1992,num_ediciones:12,isbn:"978-84-376-1234-5",hashtags:[{id:"1",nombre:"Feminismo",slug:"feminismo",descripcion:"Feminismo"},{id:"4",nombre:"Psicolog\xEDa",slug:"psicologia",descripcion:"Psicolog\xEDa"}],activo:!0,fecha_publicacion:new Date("2024-02-01"),fecha_modificacion:new Date("2024-02-01"),fecha_creacion:new Date("2024-02-01"),estado:"publicado",orden:3}];var Y=e=>({count:e}),U=(e,i)=>i.id;function J(e,i){e&1&&C(0,"app-skeleton-screen",4),e&2&&x("count",3)("showTitle",!0)("showDescription",!0)("showHashtags",!0)("showButton",!1)}function K(e,i){if(e&1){let t=P();o(0,"app-error-state",6),E("retry",function(){v(t);let _=s();return M(_.retryLoad())}),r()}if(e&2){let t=s();x("message",t.errorMessage())("showRetry",!0)("suggestions",t.getErrorSuggestions())}}function Q(e,i){if(e&1&&(o(0,"p",10),a(1),c(2,"translate"),r()),e&2){let t=s(2);n(),u(" ",D(2,1,"libros.booksCount",L(4,Y,t.filteredLibros().length))," ")}}function W(e,i){e&1&&(o(0,"p",11),a(1),c(2,"translate"),r()),e&2&&(n(),u(" ",m(2,1,"libros.noResults")," "))}function Z(e,i){if(e&1&&(o(0,"div",22)(1,"span",29),a(2),c(3,"translate"),r(),o(4,"span",30),a(5),r()()),e&2){let t=s().$implicit;n(2),u("",m(3,2,"libros.author"),":"),n(3),d(t.autor)}}function ee(e,i){if(e&1&&(o(0,"div",23)(1,"span",29),a(2),c(3,"translate"),r(),o(4,"span",30),a(5),r()()),e&2){let t=s().$implicit;n(2),u("",m(3,2,"libros.year"),":"),n(3),d(t.anio)}}function te(e,i){if(e&1&&(o(0,"div",24)(1,"span",29),a(2),c(3,"translate"),r(),o(4,"span",30),a(5),r()()),e&2){let t=s().$implicit;n(2),u("",m(3,2,"libros.editions"),":"),n(3),d(t.num_ediciones)}}function ie(e,i){if(e&1&&(o(0,"span",31),a(1),r()),e&2){let t=i.$implicit;n(),u("#",t.nombre)}}function ne(e,i){if(e&1&&(o(0,"div",27),w(1,ie,2,1,"span",31,U),r()),e&2){let t=s().$implicit;n(),O(t.hashtags)}}function oe(e,i){if(e&1&&(o(0,"details",28)(1,"summary"),a(2),c(3,"translate"),r(),o(4,"div",32),a(5),r()()),e&2){let t=s().$implicit,l=s(2);n(2),d(m(3,2,"libros.easyRead")),n(3),u(" ",l.getEasyReadDescription(t)," ")}}function re(e,i){if(e&1&&(o(0,"article",13)(1,"div",15),y(),o(2,"svg",16),C(3,"path",17)(4,"path",18),r()(),S(),o(5,"div",19)(6,"h2",20),a(7),r(),o(8,"div",21),p(9,Z,6,4,"div",22),p(10,ee,6,4,"div",23),p(11,te,6,4,"div",24),r(),o(12,"div",25)(13,"p",26),a(14),r()(),p(15,ne,3,0,"div",27),p(16,oe,6,4,"details",28),r()()),e&2){let t=i.$implicit,l=s(2);n(7),d(l.getTitle(t)),n(2),g(t.autor?9:-1),n(),g(t.anio?10:-1),n(),g(t.num_ediciones?11:-1),n(3),d(l.getDescription(t)),n(),g(t.hashtags&&t.hashtags.length>0?15:-1),n(),g(t.descripcion_lectura_facil?16:-1)}}function ae(e,i){e&1&&(o(0,"div",14),y(),o(1,"svg",33),C(2,"path",17)(3,"path",18),r(),S(),o(4,"h2"),a(5),c(6,"translate"),r(),o(7,"p"),a(8),c(9,"translate"),r()()),e&2&&(n(5),d(m(6,2,"libros.noBooks")),n(3),d(m(9,4,"libros.noBooksDescription")))}function se(e,i){if(e&1){let t=P();o(0,"div",7)(1,"app-search-bar",8),E("searchChange",function(_){v(t);let X=s();return M(X.onSearchChange(_))}),r()(),o(2,"div",9),p(3,Q,3,6,"p",10)(4,W,3,3,"p",11),r(),o(5,"div",12),w(6,re,17,7,"article",13,U),r(),p(8,ae,10,6,"div",14)}if(e&2){let t=s();n(),x("placeholder","libros.searchPlaceholder"),n(2),g(t.filteredLibros().length>0?3:t.searchText().trim()?4:-1),n(3),O(t.filteredLibros()),n(2),g(t.filteredLibros().length===0&&!t.searchText().trim()?8:-1)}}var G=class e{languageService=h(V);translateService=h(B);resourceService=h(H);offlineService=h($);analyticsService=h(N);isLoading=b(!1);hasError=b(!1);errorMessage=b("");searchText=b("");libros=b([]);filteredLibros=k(()=>{let i=this.libros().filter(_=>_.activo&&_.estado==="publicado"),t=this.searchText().trim();if(!t)return i;let l=this.languageService.getCurrentLanguage();return this.resourceService.filterRecursos({subtipo:"libro",busqueda:t},l)});ngOnInit(){this.hasError.set(!1),setTimeout(()=>{try{if(this.offlineService.isOffline())throw new Error("offline");this.resourceService.loadRecursos(A),this.libros.set(this.resourceService.libros()),this.analyticsService.trackContentView("libros-page","recurso",[]),this.isLoading.set(!1)}catch(i){this.hasError.set(!0),this.isLoading.set(!1),i.message==="offline"?this.errorMessage.set("error.offline"):this.errorMessage.set("error.generic")}},0)}retryLoad(){this.ngOnInit()}getErrorSuggestions(){return this.offlineService.isOffline()?[this.translateService.instant("error.suggestionsOffline.0"),this.translateService.instant("error.suggestionsOffline.1"),this.translateService.instant("error.suggestionsOffline.2")]:[this.translateService.instant("error.suggestionsNetwork.0"),this.translateService.instant("error.suggestionsNetwork.1"),this.translateService.instant("error.suggestionsNetwork.2")]}getTitle(i){let t=this.languageService.getCurrentLanguage();return i.titulo[t]||i.titulo.es}getDescription(i){let t=this.languageService.getCurrentLanguage();return i.descripcion[t]||i.descripcion.es}getEasyReadDescription(i){if(!i.descripcion_lectura_facil)return this.getDescription(i);let t=this.languageService.getCurrentLanguage();return i.descripcion_lectura_facil[t]||i.descripcion_lectura_facil.es}onSearchChange(i){this.searchText.set(i)}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=T({type:e,selectors:[["app-libros"]],decls:12,vars:7,consts:[[1,"libros-page"],["role","main",1,"main-content"],[1,"content-header"],[1,"content-description"],["type","card-grid",3,"count","showTitle","showDescription","showHashtags","showButton"],[3,"message","showRetry","suggestions"],[3,"retry","message","showRetry","suggestions"],[1,"search-section"],[3,"searchChange","placeholder"],[1,"results-info"],[1,"results-count"],[1,"no-results-message"],[1,"libros-grid"],[1,"libro-card"],[1,"no-results"],[1,"libro-image-placeholder"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","aria-hidden","true"],["d","M4 19.5A2.5 2.5 0 0 1 6.5 17H20"],["d","M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"],[1,"libro-content"],[1,"libro-title"],[1,"libro-meta"],[1,"libro-author"],[1,"libro-year"],[1,"libro-editions"],[1,"libro-description"],[1,"libro-synopsis"],[1,"libro-hashtags"],[1,"easy-read-section"],[1,"meta-label"],[1,"meta-value"],[1,"hashtag-badge"],[1,"easy-read-content"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","aria-hidden","true",1,"no-results-icon"]],template:function(t,l){t&1&&(o(0,"div",0)(1,"main",1)(2,"div",2)(3,"h1"),a(4),c(5,"translate"),r(),o(6,"p",3),a(7),c(8,"translate"),r()(),p(9,J,1,5,"app-skeleton-screen",4)(10,K,1,3,"app-error-state",5)(11,se,9,3),r()()),t&2&&(n(4),d(m(5,3,"libros.title")),n(3),u(" ",m(8,5,"libros.description")," "),n(2),g(l.isLoading()?9:l.hasError()?10:11))},dependencies:[I,R,j,q,z,F],styles:[".libros-page[_ngcontent-%COMP%]{display:flex;min-height:100vh;background-color:var(--background-color, #f8f9fa)}.main-content[_ngcontent-%COMP%]{flex:1;padding:2rem;max-width:1200px;margin:0 auto}.content-header[_ngcontent-%COMP%]{margin-bottom:2rem}.content-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;color:var(--primary-color, #6b2d5c);margin-bottom:.5rem}.content-description[_ngcontent-%COMP%]{font-size:1.125rem;color:var(--text-secondary, #6c757d);line-height:1.6}.search-section[_ngcontent-%COMP%]{margin-bottom:2rem}.results-info[_ngcontent-%COMP%]{margin-bottom:1.5rem}.no-results-message[_ngcontent-%COMP%]{color:var(--text-secondary, #6c757d);font-size:.95rem;font-style:italic}.results-count[_ngcontent-%COMP%]{color:var(--text-secondary, #6c757d);font-size:.95rem}.libros-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:2rem;margin-top:2rem}.libro-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a;overflow:hidden;transition:transform .2s ease,box-shadow .2s ease;display:flex;flex-direction:column}.libro-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 4px 16px #00000026}.libro-image-placeholder[_ngcontent-%COMP%]{width:100%;height:300px;background-color:var(--accent-color, #e9ecef);display:flex;align-items:center;justify-content:center;color:var(--text-secondary, #6c757d)}.libro-image-placeholder[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:80px;height:80px}.libro-content[_ngcontent-%COMP%]{padding:1.5rem;display:flex;flex-direction:column;flex:1}.libro-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:var(--primary-color, #6b2d5c);margin:0 0 1rem;line-height:1.3}.libro-meta[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;margin-bottom:1rem;padding-bottom:1rem;border-bottom:1px solid var(--border-color, #dee2e6);font-size:.95rem}.libro-author[_ngcontent-%COMP%], .libro-year[_ngcontent-%COMP%], .libro-editions[_ngcontent-%COMP%]{display:flex;gap:.5rem}.meta-label[_ngcontent-%COMP%]{font-weight:600;color:var(--text-primary, #212529)}.meta-value[_ngcontent-%COMP%]{color:var(--text-secondary, #6c757d)}.libro-description[_ngcontent-%COMP%]{margin-bottom:1rem;flex:1}.libro-synopsis[_ngcontent-%COMP%]{color:var(--text-primary, #212529);font-size:1rem;line-height:1.6;margin:0}.libro-hashtags[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem;margin-bottom:1rem;padding-top:1rem;border-top:1px solid var(--border-color, #dee2e6)}.hashtag-badge[_ngcontent-%COMP%]{background-color:var(--accent-color, #e9ecef);color:var(--primary-color, #6b2d5c);padding:.25rem .75rem;border-radius:16px;font-size:.875rem;font-weight:500}.easy-read-section[_ngcontent-%COMP%]{margin-top:1rem;padding:1rem;background-color:var(--accent-color, #e9ecef);border-radius:8px}.easy-read-section[_ngcontent-%COMP%]   summary[_ngcontent-%COMP%]{font-weight:600;color:var(--primary-color, #6b2d5c);cursor:pointer;margin-bottom:.5rem}.easy-read-content[_ngcontent-%COMP%]{font-size:.95rem;line-height:1.6;color:var(--text-primary, #212529);margin-top:.5rem}.no-results[_ngcontent-%COMP%]{text-align:center;padding:4rem 2rem;color:var(--text-secondary, #6c757d)}.no-results-icon[_ngcontent-%COMP%]{width:64px;height:64px;margin:0 auto 1rem;color:var(--text-secondary, #6c757d)}.no-results[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;color:var(--text-primary, #212529);margin-bottom:.5rem}.no-results[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;margin:0}@media(max-width:768px){.main-content[_ngcontent-%COMP%]{padding:1rem}.content-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.libros-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1.5rem}.libro-image[_ngcontent-%COMP%], .libro-image-placeholder[_ngcontent-%COMP%]{height:250px}}"]})};export{G as LibrosComponent};
